# Инструкция

В режиме разработчика можно указывать собственные таблицы с расписанием. Указанные здесь таблицы будут использоваться
при обновлении данных, однако это ограничивается лишь вашим устройством. Это может быть полезно при обновлении
расписания. Так, пока вы находитесь в процессе обновления таблицы, все основные пользователи будут пользоваться
старой таблицей. По окончании обновления новой таблицы, указанной в настройках на административной панели, вы
можете посмотреть на календарь и убедиться, что расписание отображается корректно, и перенести все изменения
на основную таблицу.

## Собственные таблицы
<hr>

Создать собственную таблицу можно [здесь](https://docs.google.com/spreadsheets/u/0/?tgif=d). После, необходимо
установить доступ к этой таблице по зелёной кнопке вверху слева - таблицу должен иметь право просматривать
любой, у кого есть на неё ссылка.

Теперь, на административной панели необходимо указать ID вашей таблицы. Его найти можно в ссылке на вашу таблицу.

Пример: <code>docs.google.com/spreadsheets/d/<span style="color: red">1sTEvkTc0QIcec_AUjcflMijUau2fnwIyNnLZU-kcsgA</span>/edit#gid=178422276</code>

Указав ID на административной панели, нажмите кнопку "Обновить данные" справа, чтобы подтянуть информацию с новой таблицы.

## Структура таблицы
<hr>

Таблица разделена на 3 страницы: **Специализации**, **Предметы** и **Занятия**. Первый ряд каждой страницы выделен под оглавление колонок.
Содержание оглавления описывается в соответствующих пунктах.

Содержание ячеек может быть <u>уникальным</u>, <u>обязательным</u> и <u>многократным</u>.

* <u>уникальное</u>: значение данного поля не может повторяться в этой же колонке
* <u>обязательное</u>: данное поле обязательно к заполнению. Однако, если поле не является обязательным, пустым
  оставлять его нельзя - в таком случае в поле должен быть проставлен дефис (`-`)
* <u>многократное</u>: такое поле может содержать в себе множество значений, перечисленных через запятую **без пробелов**

Перед началом радоты необходимо создать три листа с перечисленными названиями и выделив все ячейки (Ctrl + A)
выбрать в верхней панеле инструментов "_Формат > Числа > Обычный текст_". Google Sheets, ровно как и Excel,
любит некорректно автоматически определять типы введённых в ячейки данных, поэтому, во избежание неполадок
в работе календаря, лучше всё указывать в формате простого текста.

### Специализации

Оглавление специализаций выглядит следующим образом:

<div class="tableWrapper">

| id           | title           |
|--------------|-----------------|
| SAMPLE_SPEC1 | Пример названия |
| SAMPLE_SPEC2 | Пример названия |

</div>

* `id`:
  <u>Обязательное</u> и <u>уникальное</u> поле. Является идентификационным номером специализации.
  Используется как одно из возможных значений поля `specs` на странице **Предметы**. Не видно пользователю.
* `title`:
  <u>Обязательное</u> поле. Является текстовым эквивалентом идентификационного номера.
  Используется для отображения специализаций пользователю.

### Предметы

Оглавление предметов выглядит следующим образом:

<div class="tableWrapper">

| id	             | title	               | professor         | specs                     | color   |
|-----------------|----------------------|-------------------|---------------------------|---------|
| SAMPLE_SUBJECT1 | Пример названия      | Имя Преподавателя | SAMPLE_SPEC1              | #AAFF00 |
| SAMPLE_SUBJECT2 | Пример названия      | -                 | SAMPLE_SPEC1,SAMPLE_SPEC2 | -       |
| SAMPLE_SUBJECT3 | Всем примерам пример | Семён Семёныч     | -                         | -       |

</div>

* `id`:
  <u>Обязательное</u> и <u>уникальное</u> поле. Является идентификационным номером предмета.
  Используется как значение поля `subjectId` на странице **Занятия**. Не видно пользователю.
* `title`:
  <u>Обязательное</u> поле. Является текстовым эквивалентом идентификационного номера.
  Используется для отображения названия предмета пользователю.
* `professor`:
  Используется в отображении подробностей о занятии.
* `specs`:
  <u>Многократное</u> поле. Используется для определения предмета к конкретным специализцаиям.
  Так, этот предмет будут видеть только те пользователи, хоть одна специализация которых
  совпадает с перечисленными в ячейке. Отсутствие конкретных специализаций в предмете определяет его
  как общий для всех специализаций.
* `color`:
  Цвет отображения предмета. Принимает значения в формате хексов (`#FFFFFF`). При отсутствии конкретного
  цвета в ячейке, цвет предмета определяется автоматически на основании содержания поля `title`.

### Занятия

Оглавление занятий выглядит следующим образом:

<div class="tableWrapper">

| id	 | subjectId	      | groups | time          | room        | note               | dates                         |
|-----|-----------------|--------|---------------|-------------|--------------------|-------------------------------|
| 1   | SAMPLE_SUBJECT1 | 1      | 19:00 - 21:50 | 215         | принесите тетрадки | 01.01.2022                    |
| 2   | SAMPLE_SUBJECT1 | 1,2,3  | 09:30 - ??:?? | 215 или 250 | -                  | 01,10,22.01.2022              |
| 3   | SAMPLE_SUBJECT2 | -      | когда-нибудь  | -           | -                  | 01.01.2022 - 01,10,20.02.2022 |

</div>

* `id`:
  <u>Обязательное</u> и <u>уникальное</u> поле. Является идентификационным номером занятия.
  Использутеся при форматировании данных календаря. Не видно пользователю.
* `subjectId`:
  <u>Обязательное</u> поле. Является одним из идентификационных номеров, перечисленных в колонке `id` на странице
  **Предметы**. Назначает конкретный предмет на указанные далее данные.
* `groups`:
  <u>Многократное</u> поле. Используется для присвоения данного занятия к конкретным группам.
  Так, эти занятия будут видеть только те пользователи, которые выбрали одну из перечисленных глупп.
  Отсутствие конкретных групп определяет занятие как общее для всех.
* `time`:
  Используется при отображении подробностей о занятиях. Может быть как временным промежутком
  (_пример 1 и 2_), так и любым дргим текстом. Если в указанном значении имеется хотя-бы начало временного промежутка
  (_пример 1 и 2_), то оно будет использоваться при сортировке занятий в указанный день по их времени (самые
  ранние - вверху, самые поздние - внизу)
* `room`:
  Используется при отображении подробностей о занятиях.
* `note`:
  Используется при отображении подробностей о занятиях.
* `dates`:
  <u>Обязательное</u> и <u>многократное</u> поле. <u>**!Отличается В Оформлении!**</u>.
  Даты, указанные в этом поле должны соответствовать формату _дд.мм.гггг_.
  Во избежание ненужных повторений, для указания нескольких дней в рамках одного и того же месяца,
  запись ведётся через запятую после дня (_пример 2_ = первое, десятое и двадцать второе февраля 2022).
  Для перехода между месяцами данные необходимо разделять дефисом с пробелами (_пример 3_).
